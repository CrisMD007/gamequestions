<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>ğŸ¯ Completa la Pregunta</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding: 40px;
      transition: background-color 0.5s ease;
    }
    input, button {
      font-size: 18px;
      padding: 10px;
      margin-top: 10px;
      border-radius: 10px;
      border: none;
    }
    .question {
      font-size: 26px;
      margin: 20px 0;
    }
    .feedback, .translation, .score {
      font-size: 20px;
      margin-top: 10px;
    }
    #verificar, #siguiente, #mostrarCorrecta {
      margin-top: 20px;
      background-color: #007bff;
      color: white;
      cursor: pointer;
      display: none;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: 999;
    }
  </style>
</head>
<body>

  <h1>ğŸ§  Completa la Pregunta ğŸ“</h1>

  <div class="question" id="pregunta"></div>

  <input type="text" id="respuesta" placeholder="âœï¸ Escribe la palabra que falta" />
  <br>
  <button id="verificar" onclick="verificarRespuesta()">âœ… Verificar</button>
  <button id="siguiente" onclick="siguientePregunta()">â¡ï¸ Siguiente</button>
  <button id="mostrarCorrecta" onclick="mostrarCorrecta()">ğŸ‘€ Mostrar respuesta</button>

  <div class="feedback" id="feedback"></div>

  <br><br>
  <button onclick="mostrarTraduccion('eng')">ğŸ‡ºğŸ‡¸ InglÃ©s</button>
  <button onclick="mostrarTraduccion('hin')">ğŸ‡®ğŸ‡³ Hindi</button>

  <div class="translation" id="traduccion"></div>
  <div class="score" id="score"></div>

  <canvas id="confetti"></canvas>

  <script>
    const preguntas = [
      { completa: "Â¿QuÃ© te gusta comer?", incompleta: "____ te gusta comer?", respuesta: "QuÃ©", eng: "What do you like to eat?", hin: "à¤¤à¥à¤®à¥à¤¹à¥‡à¤‚ à¤•à¥à¤¯à¤¾ à¤–à¤¾à¤¨à¤¾ à¤ªà¤¸à¤‚à¤¦ à¤¹à¥ˆ?" },
      { completa: "Â¿DÃ³nde vives?", incompleta: "Â¿____ vives?", respuesta: "DÃ³nde", eng: "Where do you live?", hin: "à¤¤à¥à¤® à¤•à¤¹à¤¾à¤ à¤°à¤¹à¤¤à¥‡ à¤¹à¥‹?" },
      { completa: "Â¿CuÃ¡ndo es tu cumpleaÃ±os?", incompleta: "Â¿____ es tu cumpleaÃ±os?", respuesta: "CuÃ¡ndo", eng: "When is your birthday?", hin: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¤¾ à¤œà¤¨à¥à¤®à¤¦à¤¿à¤¨ à¤•à¤¬ à¤¹à¥ˆ?" },
      { completa: "Â¿QuiÃ©n es tu profesor?", incompleta: "Â¿____ es tu profesor?", respuesta: "QuiÃ©n", eng: "Who is your teacher?", hin: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¥‡ à¤¶à¤¿à¤•à¥à¤·à¤• à¤•à¥Œà¤¨ à¤¹à¥ˆà¤‚?" },
      { completa: "Â¿Por quÃ© estudias espaÃ±ol?", incompleta: "Â¿____ estudias espaÃ±ol?", respuesta: "Por quÃ©", eng: "Why do you study Spanish?", hin: "à¤¤à¥à¤® à¤¸à¥à¤ªà¥‡à¤¨à¤¿à¤¶ à¤•à¥à¤¯à¥‹à¤‚ à¤ªà¤¢à¤¼à¤¤à¥‡ à¤¹à¥‹?" },
      { completa: "Â¿CuÃ¡ntas personas hay en tu familia?", incompleta: "Â¿____ personas hay en tu familia?", respuesta: "CuÃ¡ntas", eng: "How many people are in your family?", hin: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¥‡ à¤ªà¤°à¤¿à¤µà¤¾à¤° à¤®à¥‡à¤‚ à¤•à¤¿à¤¤à¤¨à¥‡ à¤²à¥‹à¤— à¤¹à¥ˆà¤‚?" },
      { completa: "Â¿CÃ³mo estÃ¡s?", incompleta: "Â¿____ estÃ¡s?", respuesta: "CÃ³mo", eng: "How are you?", hin: "à¤¤à¥à¤® à¤•à¥ˆà¤¸à¥‡ à¤¹à¥‹?" },
      { completa: "Â¿CuÃ¡ntos aÃ±os tienes?", incompleta: "Â¿____ aÃ±os tienes?", respuesta: "CuÃ¡ntos", eng: "How old are you?", hin: "à¤¤à¥à¤®à¥à¤¹à¤¾à¤°à¥€ à¤‰à¤®à¥à¤° à¤•à¥à¤¯à¤¾ à¤¹à¥ˆ?" },
      { completa: "Â¿A quÃ© hora llegas?", incompleta: "Â¿A ____ hora llegas?", respuesta: "quÃ©", eng: "What time do you arrive?", hin: "à¤¤à¥à¤® à¤•à¤¿à¤¤à¤¨à¥‡ à¤¬à¤œà¥‡ à¤†à¤¤à¥‡ à¤¹à¥‹?" },
      { completa: "Â¿Con quiÃ©n hablas?", incompleta: "Â¿Con ____ hablas?", respuesta: "quiÃ©n", eng: "Who are you talking to?", hin: "à¤¤à¥à¤® à¤•à¤¿à¤¸à¤¸à¥‡ à¤¬à¤¾à¤¤ à¤•à¤° à¤°à¤¹à¥‡ à¤¹à¥‹?" }
    ];

    const fondos = ["#d8f8d8", "#fff9c4", "#ffddc1", "#ffcdd2"];
    let indiceActual = 0;
    let aciertos = 0;
    let fallos = 0;
    let fallosPregunta = 0;

    function cambiarFondo() {
      const color = fondos[Math.floor(indiceActual / 2) % fondos.length];
      document.body.style.backgroundColor = color;
    }

    function mostrarPregunta() {
      cambiarFondo();
      fallosPregunta = 0;
      document.getElementById("pregunta").textContent = `ğŸ“Œ ${preguntas[indiceActual].incompleta}`;
      document.getElementById("respuesta").value = "";
      document.getElementById("feedback").textContent = "";
      document.getElementById("traduccion").textContent = "";
      document.getElementById("verificar").style.display = "inline-block";
      document.getElementById("siguiente").style.display = "none";
      document.getElementById("mostrarCorrecta").style.display = "none";
    }

    function verificarRespuesta() {
      const entrada = document.getElementById("respuesta").value.trim().toLowerCase();
      const correcta = preguntas[indiceActual].respuesta.toLowerCase();
      const feedback = document.getElementById("feedback");

      if (entrada === correcta) {
        feedback.textContent = "ğŸ‰ Â¡Correcto!";
        feedback.style.color = "green";
        aciertos++;
        document.getElementById("verificar").style.display = "none";
        document.getElementById("siguiente").style.display = "inline-block";
        document.getElementById("mostrarCorrecta").style.display = "none";
      } else {
        feedback.textContent = "âŒ Intenta otra vez.";
        feedback.style.color = "red";
        fallos++;
        fallosPregunta++;

        if (fallosPregunta >= 3) {
          document.getElementById("mostrarCorrecta").style.display = "inline-block";
        }
      }
    }

    function mostrarCorrecta() {
      document.getElementById("feedback").textContent = `âœ… La respuesta correcta es: "${preguntas[indiceActual].respuesta}"`;
      document.getElementById("verificar").style.display = "none";
      document.getElementById("siguiente").style.display = "inline-block";
      document.getElementById("mostrarCorrecta").style.display = "none";
    }

    function mostrarTraduccion(idioma) {
      const p = preguntas[indiceActual];
      const area = document.getElementById("traduccion");
      area.textContent = idioma === "eng" ? "ğŸ—£ InglÃ©s: " + p.eng : "ğŸ—£ Hindi: " + p.hin;
    }

    function siguientePregunta() {
      indiceActual++;
      if (indiceActual < preguntas.length) {
        mostrarPregunta();
      } else {
        mostrarResultados();
        lanzarConfeti();
      }
    }

    function mostrarResultados() {
      const total = aciertos + fallos;
      const porcentaje = total === 0 ? 0 : Math.round((aciertos / total) * 100);
      const nota = Math.round(porcentaje);
      document.getElementById("pregunta").textContent = "ğŸ‰ Â¡Juego terminado!";
      document.getElementById("respuesta").style.display = "none";
      document.getElementById("verificar").style.display = "none";
      document.getElementById("siguiente").style.display = "none";
      document.getElementById("mostrarCorrecta").style.display = "none";
      document.getElementById("feedback").textContent = "";
      document.getElementById("traduccion").textContent = "";
      document.getElementById("score").innerHTML =
        `âœ… Aciertos: ${aciertos} <br>âŒ Fallos: ${fallos} <br><br>ğŸ Nota final: <strong>${nota}/100</strong> (${porcentaje}%) ğŸ¯`;
    }

    function lanzarConfeti() {
      const canvas = document.getElementById('confetti');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      let particles = Array.from({ length: 150 }, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height - canvas.height,
        r: Math.random() * 6 + 4,
        d: Math.random() * 150,
        color: `hsl(${Math.random() * 360}, 100%, 70%)`,
        tilt: Math.random() * 10 - 10,
        tiltAngle: 0
      }));

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let p of particles) {
          ctx.beginPath();
          ctx.fillStyle = p.color;
          ctx.ellipse(p.x, p.y, p.r, p.r / 2, p.tilt, 0, Math.PI * 2);
          ctx.fill();
        }
        update();
      }

      function update() {
        for (let p of particles) {
          p.tilt += 0.1;
          p.y += 2 + Math.cos(p.d);
          p.x += Math.sin(p.d);
          if (p.y > canvas.height) {
            p.y = -20;
            p.x = Math.random() * canvas.width;
          }
        }
      }

      setInterval(draw, 30);
    }

    // Inicializa el juego
    document.getElementById("verificar").style.display = "inline-block";
    mostrarPregunta();
  </script>

</body>
</html>
